Vagrant Devstack
===============

Install VirtualBox and Vagrant
------------------------------

Get networking-dpm
------------------
Clone the networking-dpm repository into your home directory and change to the vagrant directory:

$ git clone https://git.openstack.org/openstack/networking-dpm.git
$ cd networking-dpm/vagrant

Vagrant up
----------
$ vagrant up
$ vagrant ssh
$ sudo su - stack

Update local.conf
-----------------
# From within the Vagrant VM

$ vi /opt/stack/devstack/local.conf
[dpm]
hmc = <hmc-ip>
hmc_username = <hmc-user>
hmc_password = <hmc-password>
cpc_name = <cpc-name>
physical_adapter_mappings = public:<adapter-object-id>:<port-element-id>

Start devstack
--------------

$ /opt/stack/devstack/stack.sh


Run test script
---------------

Note: Vagrant needs access to the configured HMC, otherwise the test will fail.
This may mean that some firewall access for the Vagrant VM is required.

$ python /vagrant/test_neutron_dpm.py
